# 不動産査定アプリ（satei-ai-app）

---

## このアプリでできること
- 「不動産の簡易査定」を体験できるミニアプリです。  
- 最終的にはクライアントのホームページ（WordPress）に設置する予定です。  
- 研修目的なので「アプリをどう作って、どう公開するか」を学ぶことがゴールです。  

---

## 基本の考え方
- 最初は **シンプルな計算（v1）** でOK → 後で **本格的な計算（v2）** に切り替えられるように設計しています。  
- 査定に使う「材料（baseline.json）」と「レシピ（strategy.js）」は **`server/calc/` フォルダにまとめる**。  
- 住所や駅などのデータは **JSONファイル** として管理し、必要に応じて入れ替えやすくしています。  

---

## フォルダの意味（簡単に）
- `server/calc/` … 査定ロジック（計算方法をまとめる場所）  
- `server/datasets/` … 辞書データ（住所や駅などを後で追加する場所）  
- `public/app/` … 見た目（フォームやボタンなど）  
- `config/` … アプリの設定（どの県を使うか、ブランド名など）  
- `.env` … 秘密情報を入れる金庫（APIキーやメール設定など）  

---

## 公開までの流れ
1. **GitHub**  
   - アプリのファイルを置く「倉庫」。  
   - ここに入れたものを Render が取り出して公開します。  

2. **.gitignore**  
   - 「倉庫に入れないものリスト」。  
   - APIキーや自動生成されるファイルはここで除外します。  

3. **Render**  
   - アプリをインターネットに公開する場所。  
   - GitHub と連携してファイルを取り出し、URLを発行します。  

4. **環境変数**  
   - アプリが使う「秘密の情報」。  
   - Render の管理画面に入れて、コードの中には書かないようにします。  

5. **確認**  
   - Render が発行した URL にアクセス。  
   - 例：  
     - `/health` → アプリが動いているか確認  
     - `/app/` → フォームが表示される  

---

## 将来の拡張（今回は入れない）
- Firebase で問い合わせや査定結果を保存  
- Gmail/Googleログイン（OAuth）  
- Resend API（メール送信の別手段）  
- 実データの投入（市区町村や駅のリスト）  
- セキュリティ強化（Helmet, レートリミットなど）  
- CI/CD（GitHub Actions で自動テスト & デプロイ）  

---
